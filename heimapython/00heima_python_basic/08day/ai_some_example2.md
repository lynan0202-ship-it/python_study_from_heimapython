# ğŸƒ Pythonæ¨¡æ‹Ÿæ–—åœ°ä¸»å‘ç‰Œï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å½“â€œç‰Œæ¡Œè£åˆ¤â€


## ğŸŒŸ å…ˆå” å” ï¼šæˆ‘ä»¬è¦åšå•¥ï¼Ÿ
æƒ³ä¸æƒ³ç”¨Pythonä»£ç è¿˜åŸæ–—åœ°ä¸»çš„å‘ç‰Œæµç¨‹ï¼Ÿä»â€œä¹°ä¸€å‰¯æ–°ç‰Œâ€åˆ°â€œæ‰“ä¹±é¡ºåºâ€ï¼Œå†åˆ°â€œç»™3ä¸ªç©å®¶å‘ç‰Œ+ç•™åº•ç‰Œâ€ï¼Œæœ€åâ€œæŒ‰å¤§å°æ•´ç†æ‰‹ç‰Œâ€â€”â€”å…¨ç¨‹è‡ªåŠ¨åŒ–ï¼Œæ¯”æ‰‹åŠ¨å‘ç‰Œè¿˜å…¬å¹³ï¼

æœ€ç»ˆæ•ˆæœï¼š3ä¸ªç©å®¶ï¼ˆæ¯”å¦‚â€œåˆ˜äº¦è²â€â€œèµµä¸½é¢–â€â€œå¼ å°äºŒâ€ï¼‰å„æ‹¿åˆ°17å¼ ç‰Œï¼Œå‰©ä¸‹3å¼ å½“åº•ç‰Œï¼Œæ‰€æœ‰æ‰‹ç‰Œè‡ªåŠ¨æŒ‰ä»å°åˆ°å¤§æ’åºï¼Œæ¸…æ™°æ˜äº†ï½


## ğŸš© æ ¸å¿ƒæµç¨‹æ‹†è§£ï¼ˆåƒçœŸå®æ–—åœ°ä¸»ä¸€æ ·ï¼‰
å’Œç°å®ä¸­ç©æ–—åœ°ä¸»ä¸€æ ·ï¼Œä»£ç ä¹Ÿåˆ†4æ­¥èµ°ï¼š
1. **ä¹°ç‰Œ**ï¼šç”Ÿæˆä¸€å‰¯å®Œæ•´çš„54å¼ æ‰‘å…‹ç‰Œï¼ˆ13ç§ç‚¹æ•°Ã—4ç§èŠ±è‰² + å¤§å°ç‹ï¼‰ï¼›
2. **æ´—ç‰Œ**ï¼šæ‰“ä¹±ç‰Œçš„é¡ºåºï¼ˆä¸ç„¶æ¯æ¬¡å‘ç‰Œéƒ½ä¸€æ ·ï¼Œæ²¡æ„æ€ï¼‰ï¼›
3. **å‘ç‰Œ**ï¼š3ä¸ªç©å®¶è½®ç€æ‹¿ç‰Œï¼Œæœ€å3å¼ ç•™ä½œåº•ç‰Œï¼›
4. **çœ‹ç‰Œ**ï¼šæŠŠæ¯ä¸ªç©å®¶æ‰‹é‡Œçš„ç‰ŒæŒ‰â€œä»å°åˆ°å¤§â€æ’åºï¼Œæ–¹ä¾¿æŸ¥çœ‹ã€‚


## ğŸ’» åŸä»£ç é€è¡Œè§£æï¼ˆå°ç™½ä¹Ÿèƒ½æ‡‚ï¼‰
å…ˆçœ‹å®Œæ•´çš„åŸºç¡€ä»£ç ï¼Œå†ä¸€æ­¥æ­¥æ‹†è®²è§£é€ï¼š
```python
import random  # å¯¼å…¥éšæœºæ¨¡å—ï¼Œç”¨æ¥æ´—ç‰Œ

# 1. å®šä¹‰å…¨å±€å˜é‡ï¼ˆç‰Œæ¡Œçš„â€œåŸºç¡€è®¾å¤‡â€ï¼‰
poker_dict = {}  # ç‰Œçš„â€œèº«ä»½è¯å­—å…¸â€ï¼šé”®=ç´¢å¼•ï¼ˆèº«ä»½è¯å·ï¼‰ï¼Œå€¼=å…·ä½“çš„ç‰Œï¼ˆæ¯”å¦‚â™ 3ï¼‰
poker_index = []  # æ‰€æœ‰ç‰Œçš„â€œèº«ä»½è¯å·åˆ—è¡¨â€ï¼šå‘ç‰Œæ—¶ç”¨å®ƒï¼Œçœ‹ç‰Œæ—¶æŒ‰å®ƒæ’åº
p1 = []  # ç©å®¶1çš„æ‰‹ç‰Œï¼ˆå­˜çš„æ˜¯â€œèº«ä»½è¯å·â€ï¼‰
p2 = []  # ç©å®¶2çš„æ‰‹ç‰Œ
p3 = []  # ç©å®¶3çš„æ‰‹ç‰Œ
dp = []  # åº•ç‰Œï¼ˆåŒæ ·å­˜â€œèº«ä»½è¯å·â€ï¼‰


# 2. ç¬¬ä¸€æ­¥ï¼šä¹°ç‰Œï¼ˆç”Ÿæˆ54å¼ æ‰‘å…‹ç‰Œï¼‰
def get_poker():
    global poker_dict  # å£°æ˜ç”¨å…¨å±€çš„poker_dictï¼Œä¸ç„¶å‡½æ•°é‡Œæ”¹ä¸äº†å¤–é¢çš„
    # 2.1 å®šä¹‰èŠ±è‰²å’Œç‚¹æ•°ï¼ˆæŒ‰æ–—åœ°ä¸»ç‰Œçš„å¤§å°é¡ºåºæ¥ï¼‰
    color_list = ['â™ ', 'â™¥', 'â™¦', 'â™£']  # å››ç§èŠ±è‰²ï¼ˆé¡ºåºä¸å½±å“å¤§å°ï¼‰
    num_list = ['3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A', '2']  # ç‚¹æ•°ä»å°åˆ°å¤§
    
    # 2.2 ç”Ÿæˆ52å¼ æ™®é€šç‰Œï¼ˆèŠ±è‰²+ç‚¹æ•°ç»„åˆï¼‰
    # åˆ—è¡¨æ¨å¯¼å¼ï¼šå…ˆéå†ç‚¹æ•°ï¼ˆä¿è¯3æœ€å°ã€2æœ€å¤§ï¼‰ï¼Œå†éå†èŠ±è‰²
    poker_list = [color + num for num in num_list for color in color_list]
    
    # 2.3 ç»™ç‰Œåˆ†é…â€œèº«ä»½è¯å·â€ï¼ˆ0~51å¯¹åº”æ™®é€šç‰Œï¼Œ52=å°ğŸ¤¡ï¼Œ53=å¤§ğŸ¤¡ï¼‰
    poker_dict = {i: poker_list[i] for i in range(len(poker_list))}
    # åŠ ä¸Šå¤§å°ç‹ï¼ˆç´¢å¼•è¶Šå¤§ï¼Œç‰Œè¶Šå¤§ï¼‰
    poker_dict[52] = 'å°ğŸ¤¡'
    poker_dict[53] = 'å¤§ğŸ¤¡'


# 3. ç¬¬äºŒæ­¥ï¼šæ´—ç‰Œï¼ˆæ‰“ä¹±â€œèº«ä»½è¯å·åˆ—è¡¨â€ï¼‰
def shuffle_poker():
    global poker_index  # å£°æ˜ç”¨å…¨å±€çš„poker_index
    # 3.1 è·å–æ‰€æœ‰ç‰Œçš„â€œèº«ä»½è¯å·â€ï¼ˆ0~53ï¼Œå…±54ä¸ªï¼‰
    poker_index = list(poker_dict.keys())
    # 3.2 éšæœºæ‰“ä¹±åˆ—è¡¨ï¼ˆrandom.shuffleç›´æ¥ä¿®æ”¹åŸåˆ—è¡¨ï¼Œä¸ç”¨è¿”å›å€¼ï¼‰
    random.shuffle(poker_index)


# 4. ç¬¬ä¸‰æ­¥ï¼šå‘ç‰Œï¼ˆè½®è¯¢ç»™ç©å®¶å‘ç‰Œï¼Œç•™3å¼ åº•ç‰Œï¼‰
def send_poker():
    global p1, p2, p3, dp  # å£°æ˜ç”¨å…¨å±€çš„ç©å®¶æ‰‹ç‰Œå’Œåº•ç‰Œ
    # éå†æ‰“ä¹±åçš„â€œèº«ä»½è¯å·åˆ—è¡¨â€ï¼Œiæ˜¯ç´¢å¼•ï¼ˆ0~53ï¼‰
    for i in range(len(poker_index)):
        current_card = poker_index[i]  # å½“å‰è¦å‘çš„ç‰Œçš„â€œèº«ä»½è¯å·â€
        # è§„åˆ™1ï¼šæœ€å3å¼ ï¼ˆi>=51ï¼‰ç•™ä½œåº•ç‰Œ
        if i >= len(poker_index) - 3:
            dp.append(current_card)
        # è§„åˆ™2ï¼šè½®è¯¢å‘ç‰Œï¼ˆi%3=0â†’p1ï¼Œi%3=1â†’p2ï¼Œi%3=2â†’p3ï¼‰
        elif i % 3 == 0:
            p1.append(current_card)
        elif i % 3 == 1:
            p2.append(current_card)
        else:
            p3.append(current_card)


# 5. ç¬¬å››æ­¥ï¼šçœ‹ç‰Œï¼ˆæŒ‰â€œèº«ä»½è¯å·â€æ’åºï¼Œå†æ˜¾ç¤ºå…·ä½“çš„ç‰Œï¼‰
def look_poker(player_name, player_poker_num):
    """
    æŒ‰å¤§å°æ•´ç†å¹¶æ˜¾ç¤ºç©å®¶æ‰‹ç‰Œ
    :param player_name: ç©å®¶åå­—ï¼ˆæ¯”å¦‚â€œåˆ˜äº¦è²â€ï¼‰
    :param player_poker_num: ç©å®¶æ‰‹ç‰Œçš„â€œèº«ä»½è¯å·åˆ—è¡¨â€ï¼ˆæ¯”å¦‚[5, 12, 52]ï¼‰
    """
    # 5.1 æ’åºï¼šâ€œèº«ä»½è¯å·â€è¶Šå°ï¼Œç‰Œè¶Šå°ï¼ˆ3<4<...<2<å°ğŸ¤¡<å¤§ğŸ¤¡ï¼‰
    player_poker_num.sort()
    # 5.2 æŠŠâ€œèº«ä»½è¯å·â€è½¬æˆå…·ä½“çš„ç‰Œï¼ˆæŸ¥poker_dictå­—å…¸ï¼‰
    player_poker = [poker_dict[i] for i in player_poker_num]
    # 5.3 æ‰“å°ç»“æœ
    print(f'\n{player_name}çš„ç‰Œæ˜¯ï¼š{player_poker}')


# ä¸»ç¨‹åºï¼šå¯åŠ¨å‘ç‰Œæµç¨‹
if __name__ == '__main__':
    print("ğŸ® æ–—åœ°ä¸»å‘ç‰Œå¼€å§‹ï¼")
    get_poker()    # 1. ä¹°ç‰Œ
    shuffle_poker()# 2. æ´—ç‰Œ
    send_poker()   # 3. å‘ç‰Œ
    # 4. çœ‹ç‰Œ
    look_poker('åˆ˜äº¦è²', p1)
    look_poker('èµµä¸½é¢–', p2)
    look_poker('å¼ å°äºŒ', p3)
    look_poker('åº•ç‰Œ', dp)
```


### å…³é”®æ¦‚å¿µè§£é‡Šï¼ˆé¿å…æ‡µåœˆï¼‰
1. **ä¸ºä»€ä¹ˆç”¨â€œèº«ä»½è¯å·ï¼ˆç´¢å¼•ï¼‰â€ï¼Ÿ**  
   å› ä¸ºæ–—åœ°ä¸»çš„ç‰Œæœ‰å¤§å°é¡ºåºï¼ˆ3<4<...<2<å°ç‹<å¤§ç‹ï¼‰ï¼Œç»™æ¯å¼ ç‰Œåˆ†é…ä¸€ä¸ªâ€œç´¢å¼•â€ï¼ˆ0æœ€å°ï¼Œ53æœ€å¤§ï¼‰ï¼Œæ’åºæ—¶ç›´æ¥æ’ç´¢å¼•ï¼Œå°±èƒ½è‡ªåŠ¨æŒ‰ç‰Œçš„å¤§å°æ•´ç†ï¼Œæ¯”ç›´æ¥æ’â€œâ™ 3â€â€œâ™¥4â€è¿™ç±»å­—ç¬¦ä¸²ç®€å•10å€ï¼

2. **`global`å…³é”®å­—æœ‰å•¥ç”¨ï¼Ÿ**  
   å‡½æ•°é‡Œé»˜è®¤ä¸èƒ½ä¿®æ”¹å…¨å±€å˜é‡ï¼ˆæ¯”å¦‚`poker_dict`ï¼‰ï¼ŒåŠ `global`å°±æ˜¯å‘Šè¯‰å‡½æ•°ï¼šâ€œæˆ‘è¦æ”¹çš„æ˜¯å¤–é¢é‚£ä¸ªå…¨å±€å˜é‡ï¼Œä¸æ˜¯æˆ‘è‡ªå·±çš„å±€éƒ¨å˜é‡â€ã€‚


## ğŸ“š æ‹“å±•åŠŸèƒ½ï¼šè®©å‘ç‰Œæ›´çœŸå®ï¼
åŸºç¡€ç‰ˆåªèƒ½å‘ç‰Œçœ‹ç‰Œï¼ŒåŠ ç‚¹åŠŸèƒ½æ›´åƒçœŸçš„æ–—åœ°ä¸»ï½


### æ‹“å±•1ï¼šè‡ªåŠ¨é€‰åœ°ä¸»ï¼ˆéšæœºè®©ä¸€ä¸ªç©å®¶æ‹¿åº•ç‰Œï¼‰
æ–—åœ°ä¸»å¾—æœ‰åœ°ä¸»ï¼è®©ç¨‹åºéšæœºé€‰ä¸€ä¸ªç©å®¶ï¼ŒæŠŠåº•ç‰ŒåŠ åˆ°ä»–æ‰‹é‡Œï¼š
```python
def choose_landlord():
    global p1, p2, p3, dp
    # éšæœºé€‰åœ°ä¸»ï¼ˆ0=ç©å®¶1ï¼Œ1=ç©å®¶2ï¼Œ2=ç©å®¶3ï¼‰
    landlord_idx = random.randint(0, 2)
    if landlord_idx == 0:
        p1 += dp  # ç©å®¶1æ‹¿åº•ç‰Œ
        return 'åˆ˜äº¦è²ï¼ˆåœ°ä¸»ï¼‰'
    elif landlord_idx == 1:
        p2 += dp  # ç©å®¶2æ‹¿åº•ç‰Œ
        return 'èµµä¸½é¢–ï¼ˆåœ°ä¸»ï¼‰'
    else:
        p3 += dp  # ç©å®¶3æ‹¿åº•ç‰Œ
        return 'å¼ å°äºŒï¼ˆåœ°ä¸»ï¼‰'

# ä¸»ç¨‹åºé‡Œä¿®æ”¹ï¼šå‘ç‰Œåé€‰åœ°ä¸»ï¼Œå†çœ‹ç‰Œ
if __name__ == '__main__':
    print("ğŸ® æ–—åœ°ä¸»å‘ç‰Œå¼€å§‹ï¼")
    get_poker()    
    shuffle_poker()
    send_poker()   
    # æ–°å¢ï¼šé€‰åœ°ä¸»
    landlord = choose_landlord()
    print(f'\nğŸ‰ åœ°ä¸»æ˜¯ï¼š{landlord}')
    # çœ‹ç‰Œï¼ˆæ­¤æ—¶åœ°ä¸»çš„ç‰Œå·²ç»åŒ…å«åº•ç‰Œï¼‰
    look_poker('åˆ˜äº¦è²', p1)
    look_poker('èµµä¸½é¢–', p2)
    look_poker('å¼ å°äºŒ', p3)
```


### æ‹“å±•2ï¼šä¼˜åŒ–çœ‹ç‰Œæ ¼å¼ï¼ˆæ¯10å¼ ç‰Œæ¢è¡Œï¼Œä¸æŒ¤åœ¨ä¸€èµ·ï¼‰
æ‰‹ç‰Œå¤ªå¤šæ—¶ä¸€è¡Œæ˜¾ç¤ºä¼šå¾ˆä¹±ï¼ŒåŠ ä¸ªæ¢è¡Œé€»è¾‘ï¼š
```python
def look_poker(player_name, player_poker_num):
    player_poker_num.sort()
    player_poker = [poker_dict[i] for i in player_poker_num]
    # ä¼˜åŒ–ï¼šæ¯10å¼ ç‰Œæ¢è¡Œ
    print(f'\n{player_name}çš„ç‰Œæ˜¯ï¼š')
    for idx, card in enumerate(player_poker):
        if (idx + 1) % 10 == 0:  # æ¯10å¼ æ¢ä¸€è¡Œ
            print(card)
        else:
            print(card, end='  ')  # æ²¡åˆ°10å¼ å°±ç”¨ç©ºæ ¼åˆ†éš”
```

**æ•ˆæœç¤ºä¾‹**ï¼š
```
åˆ˜äº¦è²ï¼ˆåœ°ä¸»ï¼‰çš„ç‰Œæ˜¯ï¼š
â™ 3  â™¥3  â™¦3  â™£3  â™ 4  â™¥4  â™¦4  â™£4  â™ 5  â™¥5
â™¦5  â™£5  â™ 6  â™¥6  â™¦6  â™£6  å°ğŸ¤¡  å¤§ğŸ¤¡
```


### æ‹“å±•3ï¼šåˆ¤æ–­æ˜¯å¦æœ‰â€œç‚¸å¼¹â€ï¼ˆ4å¼ ç›¸åŒç‚¹æ•°çš„ç‰Œï¼‰
ç‚¸å¼¹æ˜¯æ–—åœ°ä¸»çš„ç‹ç‚¸ï¼æ•™ä½ ç®€å•åˆ¤æ–­ç©å®¶æœ‰æ²¡æœ‰ç‚¸å¼¹ï¼š
```python
def check_bomb(player_poker_num):
    # å…ˆæŠŠâ€œèº«ä»½è¯å·â€è½¬æˆå…·ä½“çš„ç‰Œï¼Œæå–ç‚¹æ•°ï¼ˆæ¯”å¦‚â™ 3â†’3ï¼Œå°ğŸ¤¡â†’å°ç‹ï¼‰
    player_poker = [poker_dict[i] for i in player_poker_num]
    # æå–ç‚¹æ•°ï¼ˆå¤„ç†10å’Œå¤§å°ç‹ï¼š10æ˜¯ä¸¤ä½ï¼Œå¤§å°ç‹å•ç‹¬æ ‡è®°ï¼‰
    points = []
    for card in player_poker:
        if card in ['å°ğŸ¤¡', 'å¤§ğŸ¤¡']:
            points.append(card)
        elif card.endswith('10'):  # å¤„ç†â€œâ™ 10â€è¿™ç±»ï¼Œç‚¹æ•°æ˜¯10
            points.append('10')
        else:
            points.append(card[1])  # æ¯”å¦‚â™ 3â†’å–ç´¢å¼•1çš„å­—ç¬¦â€œ3â€
    
    # ç»Ÿè®¡æ¯ä¸ªç‚¹æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œ>=4å°±æ˜¯ç‚¸å¼¹
    from collections import Counter  # ç”¨Counterå¿«é€Ÿè®¡æ•°
    point_count = Counter(points)
    bombs = [p for p, cnt in point_count.items() if cnt >= 4]
    if bombs:
        return f'æœ‰ç‚¸å¼¹ï¼{bombs}'
    else:
        return 'æ²¡æœ‰ç‚¸å¼¹'

# çœ‹ç‰Œæ—¶é¡ºä¾¿åˆ¤æ–­ç‚¸å¼¹
if __name__ == '__main__':
    # ... å‰é¢çš„ä»£ç ä¸å˜ ...
    look_poker('åˆ˜äº¦è²', p1)
    print(f'åˆ˜äº¦è²ï¼š{check_bomb(p1)}')
    look_poker('èµµä¸½é¢–', p2)
    print(f'èµµä¸½é¢–ï¼š{check_bomb(p2)}')
```


### æ‹“å±•4ï¼šæ”¯æŒå¤šè½®æ¸¸æˆï¼ˆé—®ç”¨æˆ·è¦ä¸è¦å†æ¥ä¸€å±€ï¼‰
ä¸€å±€ä¸è¿‡ç˜¾ï¼ŸåŠ ä¸ªå¾ªç¯ï¼Œè®©ç”¨æˆ·å†³å®šæ˜¯å¦ç»§ç»­ï¼š
```python
def reset_game():
    # é‡ç½®æ‰€æœ‰å˜é‡ï¼Œå‡†å¤‡ä¸‹ä¸€å±€
    global poker_dict, poker_index, p1, p2, p3, dp
    poker_dict = {}
    poker_index = []
    p1 = []
    p2 = []
    p3 = []
    dp = []

if __name__ == '__main__':
    while True:
        reset_game()  # é‡ç½®æ¸¸æˆçŠ¶æ€
        print("ğŸ® æ–—åœ°ä¸»å‘ç‰Œå¼€å§‹ï¼")
        get_poker()    
        shuffle_poker()
        send_poker()   
        landlord = choose_landlord()
        print(f'\nğŸ‰ åœ°ä¸»æ˜¯ï¼š{landlord}')
        look_poker('åˆ˜äº¦è²', p1)
        look_poker('èµµä¸½é¢–', p2)
        look_poker('å¼ å°äºŒ', p3)
        
        # é—®ç”¨æˆ·æ˜¯å¦ç»§ç»­
        again = input('\nè¦ä¸è¦å†æ¥ä¸€å±€ï¼Ÿï¼ˆy/nï¼‰ï¼š').lower()
        if again != 'y':
            print("ğŸ‘‹ æ¸¸æˆç»“æŸï¼Œä¸‹æ¬¡å†ç©ï¼")
            break
```


## ğŸ’¡ æ€»ç»“ï¼šè¿™ä¸ªæ¡ˆä¾‹èƒ½å­¦åˆ°å•¥ï¼Ÿ
çœ‹ä¼¼åªæ˜¯æ¨¡æ‹Ÿå‘ç‰Œï¼Œå…¶å®ç”¨åˆ°äº†å¾ˆå¤šPythonæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š
1. **æ•°æ®ç»“æ„**ï¼šç”¨å­—å…¸å­˜â€œç‰Œ-ç´¢å¼•â€æ˜ å°„ï¼Œç”¨åˆ—è¡¨å­˜æ‰‹ç‰Œï¼›
2. **å¾ªç¯ä¸æ¡ä»¶**ï¼šè½®è¯¢å‘ç‰Œã€åˆ¤æ–­åº•ç‰Œ/åœ°ä¸»ï¼›
3. **æ¨¡å—ä½¿ç”¨**ï¼š`random`ï¼ˆæ´—ç‰Œã€é€‰åœ°ä¸»ï¼‰ã€`collections.Counter`ï¼ˆç»Ÿè®¡ç‰Œå‹ï¼‰ï¼›
4. **å‡½æ•°è®¾è®¡**ï¼šæŠŠâ€œä¹°ç‰Œã€æ´—ç‰Œã€å‘ç‰Œâ€æ‹†æˆç‹¬ç«‹å‡½æ•°ï¼Œä»£ç æ›´æ¸…æ™°ï¼›
5. **å…¨å±€å˜é‡**ï¼šç”¨`global`ç®¡ç†è·¨å‡½æ•°çš„å˜é‡ï¼ˆæ¯”å¦‚æ‰‹ç‰Œã€ç‰Œå­—å…¸ï¼‰ã€‚

è¯•ç€æ”¹æ”¹ä»£ç å§ï¼æ¯”å¦‚æŠŠç©å®¶åå­—æ”¹æˆè‡ªå·±çš„æœ‹å‹ï¼Œæˆ–è€…åŠ ä¸ªâ€œåˆ¤æ–­é¡ºå­â€çš„åŠŸèƒ½ï¼Œæˆå°±æ„Ÿæ‹‰æ»¡ï½ ğŸ‰